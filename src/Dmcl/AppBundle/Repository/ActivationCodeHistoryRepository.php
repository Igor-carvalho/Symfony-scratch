<?php

namespace Dmcl\AppBundle\Repository;

use Doctrine\ORM\EntityRepository;

/**
 * GatewaysRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class ActivationCodeHistoryRepository extends EntityRepository
{
	public function findCode($id){
		
        return $this->createQueryBuilder("c")
            ->andWhere("c.activationCodeId = :id")
            ->setParameter("id",$id)
			->orderBy('c.id', 'desc')
            ->getQuery()
            ->setMaxResults(1)->getSingleResult();
    }
}
